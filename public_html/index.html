
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="">
        <link rel="shortcut icon" href="ico/favicon.ico">

        <title>TODO List</title>

        <!-- Bootstrap core CSS -->
        <link href="css/bootstrap.min.css" rel="stylesheet">

        <!-- Custom styles for this template -->
        <link href="css/navbar-fixed-top.css" rel="stylesheet">
        <link href="css/custom.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
          <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->
    </head>

    <body>

        <!-- Fixed navbar -->
        <div id="navbar" class="navbar navbar-default navbar-fixed-top" data-bind="visible: isVisible" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="#" id="logo" data-bind="click: sync">TODO List</a>
                </div>
                <div class="navbar-collapse collapse">
                    <ul class="nav navbar-nav">
                        <li><a href="#" id="show-tasks"><span class="glyphicon glyphicon-list"></span> Lista zadań</a></li>
                        <li><a href="#stats" id="show-stats"><span class="glyphicon glyphicon-signal"></span> Statystyki</a></li>
                    </ul>
                    <ul class="nav navbar-nav navbar-right">
                        <li data-bind="visible: isAdmin"><a href="admin.html"><span class="glyphicon glyphicon-cog"></span> Administracja</a></li>
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown"><span class="glyphicon glyphicon-user"></span> <span data-bind="text: userName">User Name</span> <b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                <li><a href="#" id="show-profile">Profil</a></li>
                                <li><a href="#">Ustawienia</a></li>
                                <li class="divider"></li>
                                <li><a href="#" data-bind="click: logout">Wyloguj</a></li>
                            </ul>
                        </li>
                    </ul>
                </div><!--/.nav-collapse -->
            </div>
        </div>

        <!-- Modals -->
        <div class="modal fade" id="name-modal" tabindex="-1" role="dialog" aria-labelledby="name-modal-label" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        <h4 class="modal-title" id="name-modal-label">Wprowadź nowe imię i nazwisko</h4>
                    </div>
                    <form class="form-horizontal" role="form">
                        <div class="modal-body">
                            <div class="form-group">
                                <label for="inputChangeName" class="col-sm-2 control-label">Imię</label>
                                <div class="col-sm-10 left-inner-addon">
                                    <i class="glyphicon glyphicon-user"></i>
                                    <input id="inputChangeName" type="text" class="form-control" placeholder="Imię" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="inputChangeSurname" class="col-sm-2 control-label">Nazwisko</label>
                                <div class="col-sm-10 left-inner-addon">
                                    <i class="glyphicon glyphicon-user"></i>
                                    <input id="inputChangeSurname" type="text" class="form-control" placeholder="Nazwisko" required>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="submit" class="btn btn-success"><span class="glyphicon glyphicon-floppy-disk"></span> Zapisz</button>
                            <button type="button" class="btn btn-danger" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span> Anuluj</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div class="modal fade large" id="new-task-modal" tabindex="-1" role="dialog" aria-labelledby="new-task-modal-label" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        <h4 class="modal-title" id="new-task-modal-label">Nowe zadanie</h4>
                    </div>
                    <form class="form-horizontal" role="form" data-bind="submit: addItem">
                        <div class="modal-body">
                            <div class="form-group">
                                <label for="inputTaskTitle" class="col-sm-2 control-label">Tytuł</label>
                                <div class="col-sm-10 left-inner-addon">
                                    <i class="glyphicon glyphicon-header"></i>
                                    <input id="inputTaskTitle" type="text" class="form-control" data-bind="value: itemToAddTitle, valueUpdate: 'afterkeydown'" placeholder="Tytuł" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="inputTaskDesc" class="col-sm-2 control-label">Opis</label>
                                <div class="col-sm-10 left-inner-addon">
                                    <i class="glyphicon glyphicon-comment"></i>
                                    <input id="inputTaskDesc" type="text" class="form-control" data-bind="value: itemToAddDesc, valueUpdate: 'afterkeydown'" placeholder="Opis zadania">
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="submit" class="btn btn-success" data-bind="enable: itemToAddTitle().length > 0" type="submit"><span class="glyphicon glyphicon-plus"></span> Dodaj</button>
                            <button type="button" class="btn btn-danger" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span> Anuluj</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div class="modal fade" id="email-modal" tabindex="-1" role="dialog" aria-labelledby="email-modal-label" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        <h4 class="modal-title" id="email-modal-label">Wprowadź nowy email</h4>
                    </div>
                    <form class="form-horizontal" role="form">
                        <div class="modal-body">
                            <div class="form-group">
                                <label for="inputChangeEmail" class="col-sm-2 control-label">Email</label>
                                <div class="col-sm-10 left-inner-addon">
                                    <i class="glyphicon glyphicon-envelope"></i>
                                    <input id="inputChangeEmail" type="email" class="form-control" placeholder="user@example.com" required>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="submit" class="btn btn-success"><span class="glyphicon glyphicon-floppy-disk"></span> Zapisz</button>
                            <button type="button" class="btn btn-danger" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span> Anuluj</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div class="modal fade large" id="password-modal" tabindex="-1" role="dialog" aria-labelledby="password-modal-label" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        <h4 class="modal-title" id="name-modal-label">Zmiana hasła</h4>
                    </div>
                    <form class="form-horizontal" role="form">
                        <div class="modal-body">
                            <div class="form-group">
                                <label for="inputChangePassword" class="col-sm-2 control-label">Hasło</label>
                                <div class="col-sm-10 left-inner-addon">
                                    <i class="glyphicon glyphicon-lock"></i>
                                    <input id="inputChangePassword" type="password" class="form-control" placeholder="Nowe hasło" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="inputConfirmPassword" class="col-sm-2 control-label">Potwierdź</label>
                                <div class="col-sm-10 left-inner-addon">
                                    <i class="glyphicon glyphicon-lock"></i>
                                    <input id="inputConfirmPassword" type="password" class="form-control" placeholder="Potwierdź hasło" required>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="submit" class="btn btn-success"><span class="glyphicon glyphicon-floppy-disk"></span> Zapisz</button>
                            <button type="button" class="btn btn-danger" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span> Anuluj</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>



        <!-- Containers -->
        <div class="container hidden-container" id="stats-container">
            <div class="jumbotron">
                <div class="container">
                    <h2>Stats</h2>
                    <div class="row">
                        <div class="col-md-4">
                            <p>Liczba aktywnych zadań: 15</p>
                        </div>
                        <div class="col-md-4">
                            <p>Zakończonych zadań: 6</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="container" id="list-container">
            <div class="jumbotron">
                <div class="row">
                    <div class="col-md-8">
                        <p>Lista zadań</p>
                    </div>
                    <div class="col-md-4">
                        <div class="align-right right-inner-addon">
                            <i class="glyphicon glyphicon-search"></i>
                            <input type="text" class="form-control" placeholder="Wyszukaj" id="task-list-filter">
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-8" style="padding-bottom: 20px">
                        <small>Status: <strong><span data-bind="text: status">Unknown</span></strong></small>
                    </div>
                </div>
                <table class="table table-condensed" id="task-list" data-bind='foreach: items'>
                    <tr class="task-list-header">
                        <td class="collapsed" data-toggle="collapse" data-parent="#task-list" data-bind="text: name, attr: {href: '#item-list-collapsable' + $index()}">Opis zadania 1</td>
                        <td><input type="checkbox" data-bind="checked: status, event: {change: $parent.onChange }" class="task-checkbox align-right" /></td>
                    </tr>
                    <tr class="task-list-body"><td colspan="2" class="task-list-desc collapse" data-bind="text: description, attr: {id: 'item-list-collapsable' + $index()}">Opis zadania 1</td></tr>
                </table>
                <button class="btn btn-lg btn-block btn-success" data-toggle="modal" data-target="#new-task-modal"  type="button"><span class="glyphicon glyphicon-plus"></span> Nowe zadanie</button>
            </div>
        </div>    

        <div class="container hidden-container" id="profile-container">
            <div class="jumbotron">
                <div class="row">
                    <div class="col-md-8">
                        <p>Profil</p>
                    </div>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-4">Imię:</div>
                        <div class="col-md-8"><b>Michał</b></div>
                    </div>
                    <div class="row">
                        <div class="col-md-4">Nazwisko:</div>
                        <div class="col-md-8"><b>Tuleja</b></div>
                    </div>
                    <div class="row">
                        <div class="col-md-4">Email:</div>
                        <div class="col-md-8"><b>user@example.com</b></div>
                    </div>
                </div>
                <div class="modal-footer">
                    <div class="input-group">
                        <div class="btn-group">
                            <button class="btn btn-primary" type="button" data-toggle="modal" data-target="#name-modal"><span class="glyphicon glyphicon-user"></span> Zmień imię i nazwisko</button>
                            <button class="btn btn-primary" type="button" data-toggle="modal" data-target="#email-modal"><span class="glyphicon glyphicon-envelope"></span> Zmień email</button>
                            <button class="btn btn-primary" type="button" data-toggle="modal" data-target="#password-modal"><span class="glyphicon glyphicon-lock"></span> Zmień hasło</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!--Login Container-->
        <div class="container hidden-container" id="signin-container">
            <div class="jumbotron" data-bind="visible: isVisible">
                <div class="row">
                    <div class="col-md-4">
                        <p>Logowanie</p>
                    </div>
                    <div class="col-md-4">
                        <form class="form-signin" role="form" data-bind="submit: login">
                            <div class="left-inner-addon width-full">
                                <i class="glyphicon glyphicon-envelope"></i>
                                <input type="email" class="form-control" placeholder="Email" required autofocus data-bind="value: user">
                            </div>
                            <div class="left-inner-addon width-full">
                                <i class="glyphicon glyphicon-lock"></i>
                                <input type="password" class="form-control" placeholder="Hasło" required data-bind="value: pass">
                            </div>
                            <!--<label class="checkbox">
                            <input type="checkbox" value="remember-me"> Remember me
                            </label>-->
                            <button class="btn btn-lg btn-primary btn-block" type="submit" data-bind="text: buttonText">Zaloguj</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>



        <div class="container hidden-container" id="useredit-container">
            <div class="jumbotron">
                <div class="row">
                    <div class="col-md-8">
                        <p>Edycja użytkownika</p>
                    </div>
                </div>
                <form class="form-horizontal" role="form">
                    <div class="modal-body">
                        <div class="form-group">
                            <label for="inputChangeUserName" class="col-sm-2 control-label">Imię</label>
                            <div class="col-sm-10 left-inner-addon">
                                <i class="glyphicon glyphicon-user"></i>
                                <input id="inputChangeUserName" type="text" class="form-control" placeholder="Imię" value="Michał" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inputChangeUserSurname" class="col-sm-2 control-label">Nazwisko</label>
                            <div class="col-sm-10 left-inner-addon">
                                <i class="glyphicon glyphicon-user"></i>
                                <input id="inputChangeUserSurname" type="text" class="form-control" placeholder="Nazwisko" value="Tuleja" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inputChangeUserEmail" class="col-sm-2 control-label">Email</label>
                            <div class="col-sm-10 left-inner-addon">
                                <i class="glyphicon glyphicon-envelope"></i>
                                <input id="inputChangeEmail" type="email" class="form-control" placeholder="user@example.com" value="user@example.com" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="selectChangeUserRole" class="col-sm-2 control-label">Rola</label>
                            <div class="col-sm-10">
                                <select id="selectChangeUserRole" class="form-control">
                                    <option value="1" selected>Admin</option>
                                    <option value="2">User</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inputChangeUserActive" class="col-sm-2 control-label">Aktywny</label>
                            <div class="col-sm-2">
                                <input id="inputChangeUserActive" type="checkbox" class="task-checkbox" checked>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <div class="col-sm-2">
                            <button type="submit" class="btn btn-warning" data-toggle="modal" data-target="#password-modal"><span class="glyphicon glyphicon-lock"></span> Nowe hasło</button>
                        </div>
                        <div class="col-sm-10">
                            <button type="submit" class="btn btn-success"><span class="glyphicon glyphicon-floppy-disk"></span> Zapisz</button>
                            <button type="button" class="btn btn-danger"><span class="glyphicon glyphicon-remove"></span> Anuluj</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <!-- Bootstrap core JavaScript
        ================================================== -->
        <!-- Placed at the end of the document so the pages load faster -->
        <script src="js/lib/vendor/jquery.min.js"></script>
        <script src="js/lib/vendor/bootstrap.min.js"></script>
        <script src="js/lib/vendor/knockout-3.1.0.js"></script>
        <script src="js/lib/vendor/signals.min.js"></script>
        <script src="js/lib/vendor/store.min.js"></script>
        <script src="js/lib/jQueryExtensions.js"></script>

        <script src="js/user/model/DataStore.js"></script>

        <script src="js/user/viewmodel/NavBar.js"></script>
        <script src="js/user/viewmodel/LoginForm.js"></script>
        <script src="js/user/viewmodel/TaskList.js"></script>
        <script src="js/user/routing.js"></script>
        <script src="js/user/signals.js"></script>
        <script src="js/user/filtering.js"></script>
        <script src="js/user/app.js"></script>
    </body>
</html>
